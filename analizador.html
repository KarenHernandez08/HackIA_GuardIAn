<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analizador de Mensajes con GuardIAn</title>
  <style>

html, body {
  height: 100%; /* Asegura que el body ocupe toda la altura */
  margin: 0;
}


/* Estilos generales para la barra de navegación */
#navbar {
  position: fixed; /* Hace que el navbar se quede fijo en la parte superior */
  top: 0; /* Ubica el navbar en la parte superior */
  left: 0;
  width: 100%;
  background-color: #ffff; /* Color de fondo */
  padding: 10px 20px; /* Espaciado interno */
  z-index: 1000; /* Asegura que el navbar se superponga sobre otros elementos */
  display: flex;
  justify-content: space-between; /* Alinea el logo y los elementos del menú */
  align-items: center;
}

/* Logo y nombre de la aplicación */
#logo-container {
  display: flex;
  align-items: center;
}

#logo {
  width: 40px; /* Tamaño del logo */
  height: auto;
  margin-right: 10px; /* Espaciado entre logo y nombre */
}

#app-name {
  color: rgb(17, 17, 18);
  font-family: 'Poppins', sans-serif;
  font-size: 24px; /* Tamaño del nombre */
  font-weight: bold;
}

/* Estilos para el menú */
#navbar ul {
  list-style-type: none;
  margin: 0;
  padding: 20px;
  display: flex;
}

#navbar ul li {
  margin-left: 20px;
}

#navbar ul li a {
  color: rgb(12, 12, 12);
  text-decoration: none;
  font-size: 18px;
  padding: 5px 10px;
  transition: background-color 0.3s ease;
  font-family: 'Poppins', sans-serif;
}

#navbar ul li a:hover {
  background-color: #003366; /* Color de fondo al pasar el mouse */
  border-radius: 5px;
}

/* Añadir algo de espacio en la parte superior de la página para que el contenido no se oculte debajo del navbar */
body {
  margin-top: 25px; /* Ajusta según el tamaño de tu navbar */
}

    /* Estilos generales */
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    #analizador {
      padding: 50px;
      text-align: center;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      margin: 20px auto;
      max-width: 800px;
    }

    #analizador h2 {
      font-size: 30px;
      color: #003366;
      margin-bottom: 20px;
      font-weight: bold;
    }

    #analizador textarea {
      width: 100%;
      height: 150px;
      padding: 10px;
      font-size: 16px;
      border: 2px solid #004080;
      border-radius: 5px;
      margin-bottom: 20px;
      resize: none;
    }

    #analizador textarea:focus {
      outline: none;
      border-color: #003366;
      box-shadow: 0 0 5px rgba(0, 51, 102, 0.5);
    }

    #analizar-btn {
      padding: 10px 20px;
      background-color: #003366;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }

    #analizar-btn:hover {
      background-color: #002244;
    }

    #resultado {
      margin-top: 20px;
      padding: 15px;
      border-radius: 5px;
      font-size: 16px;
      text-align: left;
      line-height: 1.5;
      background-color: #f9f9f9;
      border: 1px solid #ddd;
    }

    #resultado h3 {
      color: #003366;
      font-size: 20px;
      margin-bottom: 10px;
    }

    #resultado p {
      color: #333;
    }
/*estilos para el pie de pagina*/
#footer {
  background-color: #003366; /* Fondo azul oscuro */
  color: #ffffff; /* Texto blanco */
  text-align: center; /* Centrado */
  padding: 30px; /* Espaciado interno */
  font-family: 'Poppins', sans-serif; /* Fuente consistente */
}

#footer a {
  color: #00ccff; /* Enlaces en color destacado */
  text-decoration: none; /* Sin subrayado */
  margin: 0 10px; /* Espaciado entre enlaces */
}

#footer a:hover {
  text-decoration: underline; /* Subrayado al pasar el mouse */
}

.footer-links, .footer-contact, .footer-social {
  margin: 18px 0; /* Espaciado entre secciones */
}

.footer-social a {
  margin: 0 10px; /* Espaciado entre iconos */
}

.footer-copyright {
  margin-top: 20px; /* Separación del texto final */
  font-size: 14px; /* Tamaño más pequeño para el copyright */
  opacity: 0.8; /* Texto más tenue */
}

  </style>
</head>
<body>
  <nav id="navbar">
    <div id="logo-container">
      <img src="images/Icono2.jpg" alt="GuardIAn Logo" id="logo">
      
      <span id="app-name">GuardIAn</span>
    </div>
    <ul>
      <li><a href="#inicio">Inicio</a></li>
      <li><a href="#guias">Guías</a></li>
      <li><a href="#generador">Generador de contraseñas</a></li>
      <li><a href="#analizador">Analizador de url</a></li>
      <li><a href="#contacto">Simulador</a></li>
      <li><a href="analizador.html">Analizador de mensajes</a></li>
      <li><a href="sabermas.html">Saber mas</a></li>
    </ul>
  </nav>

  <div id="analizador">
    <h2>Analizador de Mensajes con GuardIAn</h2>
    <textarea id="mensaje-input" placeholder="Pega aquí el mensaje que deseas analizar..."></textarea>
    <button id="analizar-btn">Analizar Mensaje</button>
    <div id="resultado" style="display: none;">
      <h3>Resultado del Análisis:</h3>
      <p id="mensaje-respuesta"></p>
    </div>
  </div>

  <footer id="footer">
    <p>Desarrollado por <strong>HackIA</strong></p>
  
    <!-- Enlaces rápidos -->
    <div class="footer-links">
      <a href="#inicio">Inicio</a>
      <a href="#guias">Guías</a>
      <a href="#generador">Generador de contraseñas
      <a href="#analizador">Analizador de url</a>
      <a href="#contacto">Simulador</a>
      <a href="analizador.html">Analizador de mensajes</a>
      <a href="sabermas.html">Saber mas</a>
    </div>
  
    <!-- Información de contacto -->
    <div class="footer-contact">
      <p>Contacto: <a href="mailto:hackia@correo.com">hackia@correo.com</a></p>
    </div>
  
    <!-- Redes sociales -->
    <div class="footer-social">
      <a href="https://twitter.com" target="_blank">Twitter</a>
      <a href="https://instagram.com" target="_blank">Instagram</a>
      <a href="https://linkedin.com" target="_blank">LinkedIn</a>
    </div>
  
    <!-- Aviso de copyright -->
    <div class="footer-copyright">
      <p>&copy; 2024 HackIA. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script>
    // Elementos del DOM
    const mensajeInput = document.getElementById("mensaje-input");
    const analizarBtn = document.getElementById("analizar-btn");
    const resultadoDiv = document.getElementById("resultado");
    const mensajeRespuesta = document.getElementById("mensaje-respuesta");

    // Configuración de la API
    const API_KEY = 'AIzaSyCzW6UMG55CdO6MNBerKXYBdJswo9vmLcQ';
    const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${API_KEY}`;

    // Evento para analizar el mensaje
    analizarBtn.addEventListener("click", async () => {
      const mensaje = mensajeInput.value.trim();
      if (mensaje === "") {
        alert("Por favor, pega un mensaje para analizar.");
        return;
      }

      // Estructura del prompt
      const prompt = {
        "contents": [
          {
            "role": "user",
            "parts": [
              {
                "text": `Me llegó este mensaje: "${mensaje}". ¿Me puedes decir si es malicioso? Dame un resumen del 
                por qué es bueno o malicioso. Termina tu consulta con: Gracias GuardIAn por usar nuestra herramienta.`
              }
            ]
          }
        ]
      };

      // Llamada a la API
      try {
        const response = await fetch(API_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(prompt),
        });

        const data = await response.json();

        // Extraer el texto del análisis generado por Gemini
        let mensajeGenerado = data.candidates[0]?.content?.parts[0]?.text || "No se pudo analizar el mensaje.";

        // Quitar los asteriscos y reemplazar el (* ) por saltos de línea
        mensajeGenerado = mensajeGenerado.replace(/\**\*/g, '').replace(/\(\* \)/g, '<br>');

        // Mostrar respuesta en el contenedor
        mensajeRespuesta.textContent = mensajeGenerado;
        resultadoDiv.style.display = "block";
      } catch (error) {
        console.error("Error al analizar el mensaje:", error);
        mensajeRespuesta.textContent = "Hubo un error al analizar el mensaje. Inténtalo de nuevo más tarde.";
        resultadoDiv.style.display = "block";
      }
    });
  </script>

</body>
</html>
